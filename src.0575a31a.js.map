{"version":3,"sources":["src/index.js"],"names":["textInOutItems","document","querySelector","children","body","horizonScroll","getElementById","sun","moon","anchor","getElementsByClassName","section","getElementsByTagName","handleDayNight","classList","toggle","handleScroll","scrollY","window","editHeight","innerHeight","Array","prototype","forEach","call","elem","index","offsetTop","idx","add","remove","handleAnchorActive","target","maxScrollY","scrollHeight","addEventListener","nowScrollY","horizonStatusChange","now","max","style","opacity","width","horizonScrolling","textInOut","next","length","replace","setTimeout","scroll","top","behavior","handleAnchor"],"mappings":";;;AAEA,aAFA,QAAA,gBAEA,WACQA,IAAAA,EAAiBC,SAASC,cAAc,sBAAsBC,SAC9DC,EAAOH,SAASC,cAAc,QAC9BG,EAAgBJ,SAASK,eAAe,iBACxCC,EAAMN,SAASC,cAAc,QAC7BM,EAAOP,SAASC,cAAc,SAC9BO,EAASR,SAASS,uBAAuB,kBACzCC,EAAUV,SAASW,qBAAqB,WA0BxCC,EAAiB,WACrBT,EAAKU,UAAUC,OAAO,SAalBC,EAAe,WACbC,IAAAA,EAAUC,OAAOD,QACjBE,EAAaD,OAAOE,YAAY,EACtCC,MAAMC,UAAUC,QAAQC,KAAKb,EAAS,SAACc,EAAMC,GACxCT,EAAUE,GAAcM,EAAKE,WAdT,SAAAD,GACzBL,MAAMC,UAAUC,QAAQC,KAAKf,EAAQ,SAACgB,EAAMG,GACvCF,IAAUE,EACXH,EAAKX,UAAUe,IAAI,UAEnBJ,EAAKX,UAAUgB,OAAO,YAUtBC,CAAmBL,OA/BA,SAACM,GAClBC,IAAAA,EAAa7B,EAAK8B,aAAehB,OAAOE,YAC9CF,OAAOiB,iBAAiB,SAAU,WAC1BC,IAAAA,EAAalB,OAAOD,QAC1BoB,EAAoBD,EAAYH,KAE5BI,IAAAA,EAAsB,SAACC,EAAKC,GAChCP,EAAOQ,MAAMC,QAAUH,EAAMC,EAAM,GACnCP,EAAOQ,MAAME,MAASJ,EAAMC,EAAO,IAAM,KAqC3CI,CAAiBtC,GAxDD,SAAZuC,IAAaZ,IAAAA,EAAS,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAIJ,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,EAC9BiB,EAAOb,EAAOc,SAAWlB,EAAM,EAAI,EAAIA,EAAM,EACnDI,EAAOJ,GAAKd,UAAUiC,QAAQ,eAAgB,iBAC9Cf,EAAOJ,GAAKd,UAAUgB,OAAO,UAC7BE,EAAOa,GAAM/B,UAAUiC,QAAQ,gBAAiB,gBAChDf,EAAOa,GAAM/B,UAAUe,IAAI,UAC3BmB,WAAW,WACTJ,EAAUZ,EAAQa,IACjB,KAiDHD,CAAU5C,GACVO,EAAI4B,iBAAiB,QAAStB,GAC9BL,EAAK2B,iBAAiB,QAAStB,GAC/BK,OAAOiB,iBAAiB,SAAUnB,GAClCK,MAAMC,UAAUC,QAAQC,KAAKf,EAAQ,SAACgB,EAAMC,GAC1CD,EAAKU,iBAAiB,QAdL,SAAAT,GAAU,OAAA,WAC7BR,OAAO+B,OAAO,CACZC,IAAKvC,EAAQe,GAAOC,UACpBwB,SAAU,YAWqBC,CAAa1B,MAE9CV,IA1EJ","file":"src.0575a31a.js","sourceRoot":"..","sourcesContent":["import \"./index.scss\";\r\n\r\n(() => {\r\n  const textInOutItems = document.querySelector(\".text-in-out-items\").children;\r\n  const body = document.querySelector(\"body\");\r\n  const horizonScroll = document.getElementById(\"horizonScroll\");\r\n  const sun = document.querySelector(\".sun\");\r\n  const moon = document.querySelector(\".moon\");\r\n  const anchor = document.getElementsByClassName(\"section-anchor\");\r\n  const section = document.getElementsByTagName(\"section\");\r\n  \r\n\r\n  const textInOut = (target = [], idx = 0) => {\r\n    const next = target.length === idx + 1 ? 0 : idx + 1;\r\n    target[idx].classList.replace(\"ani__text-in\", \"ani__text-out\");\r\n    target[idx].classList.remove(\"active\");\r\n    target[next].classList.replace(\"ani__text-out\", \"ani__text-in\");\r\n    target[next].classList.add(\"active\");\r\n    setTimeout(() => {\r\n      textInOut(target, next);\r\n    }, 2000);\r\n  };\r\n\r\n  const horizonScrolling = (target) => {\r\n    const maxScrollY = body.scrollHeight - window.innerHeight;\r\n    window.addEventListener(\"scroll\", () => {\r\n      const nowScrollY = window.scrollY;\r\n      horizonStatusChange(nowScrollY, maxScrollY);\r\n    });\r\n    const horizonStatusChange = (now, max) => {\r\n      target.style.opacity = now / max + 0.5;\r\n      target.style.width = (now / max) * 100 + \"%\";\r\n    };\r\n  };\r\n\r\n  const handleDayNight = () => {\r\n    body.classList.toggle(\"dark\");\r\n  };\r\n\r\n  const handleAnchorActive = index => {\r\n    Array.prototype.forEach.call(anchor, (elem, idx) => {\r\n      if(index === idx) {\r\n        elem.classList.add('active');\r\n      } else {\r\n        elem.classList.remove('active');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    const scrollY = window.scrollY;\r\n    const editHeight = window.innerHeight/3;\r\n    Array.prototype.forEach.call(section, (elem, index) => {\r\n      if(scrollY + editHeight >= elem.offsetTop) {\r\n        handleAnchorActive(index);\r\n        return;\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleAnchor = index => (() => {\r\n    window.scroll({\r\n      top: section[index].offsetTop,\r\n      behavior: 'smooth'\r\n    });\r\n  });\r\n\r\n  const init = () => {\r\n    horizonScrolling(horizonScroll);\r\n    textInOut(textInOutItems);\r\n    sun.addEventListener(\"click\", handleDayNight);\r\n    moon.addEventListener(\"click\", handleDayNight);\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    Array.prototype.forEach.call(anchor, (elem, index) => {\r\n      elem.addEventListener(\"click\", handleAnchor(index));\r\n    });\r\n    handleScroll();\r\n  };\r\n\r\n  init();\r\n})();\r\n"]}